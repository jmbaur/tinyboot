---
source: grub/src/parser.rs
expression: ast
---
Root {
    statements: [
        Command(
            CommandStatement {
                command: "set",
                args: [
                    Value(
                        "with_fonts=false",
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "set",
                args: [
                    Value(
                        "textmode=false",
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "set",
                args: [
                    Value(
                        "with_serial=no",
                    ),
                ],
            },
        ),
        If(
            IfStatement {
                condition: Condition(
                    true,
                    CommandStatement {
                        command: "serial",
                        args: [],
                    },
                ),
                consequence: [
                    Command(
                        CommandStatement {
                            command: "set",
                            args: [
                                Value(
                                    "with_serial=yes",
                                ),
                            ],
                        },
                    ),
                ],
                elifs: [],
                alternative: [],
            },
        ),
        Command(
            CommandStatement {
                command: "export",
                args: [
                    Value(
                        "with_serial",
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "clear",
                args: [],
            },
        ),
        Command(
            CommandStatement {
                command: "set",
                args: [
                    Value(
                        "timeout=10",
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "echo",
                args: [
                    Value(
                        "",
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "echo",
                args: [
                    Value(
                        "Loading graphical boot menu...",
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "echo",
                args: [
                    Value(
                        "",
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "echo",
                args: [
                    Value(
                        "Press 't' to use the text boot menu on this console...",
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "echo",
                args: [
                    Value(
                        "",
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "search",
                args: [
                    Value(
                        "--set=root",
                    ),
                    Value(
                        "--file",
                    ),
                    Value(
                        "/EFI/nixos-installer-image",
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "insmod",
                args: [
                    Value(
                        "gfxterm",
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "insmod",
                args: [
                    Value(
                        "png",
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "set",
                args: [
                    Value(
                        "gfxpayload=keep",
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "set",
                args: [
                    Value(
                        "gfxmode=1920x1080,1366x768,1280x720,1024x768,800x600,auto",
                    ),
                ],
            },
        ),
        If(
            IfStatement {
                condition: Condition(
                    true,
                    CommandStatement {
                        command: "loadfont",
                        args: [
                            Value(
                                "($root)/EFI/boot/unicode.pf2",
                            ),
                        ],
                    },
                ),
                consequence: [
                    Command(
                        CommandStatement {
                            command: "set",
                            args: [
                                Value(
                                    "with_fonts=true",
                                ),
                            ],
                        },
                    ),
                ],
                elifs: [],
                alternative: [],
            },
        ),
        If(
            IfStatement {
                condition: Condition(
                    true,
                    CommandStatement {
                        command: "test",
                        args: [
                            Value(
                                "$textmode",
                            ),
                            Value(
                                "!=",
                            ),
                            Value(
                                "true",
                            ),
                            Value(
                                "-a",
                            ),
                            Value(
                                "$with_fonts",
                            ),
                            Value(
                                "==",
                            ),
                            Value(
                                "true",
                            ),
                        ],
                    },
                ),
                consequence: [
                    If(
                        IfStatement {
                            condition: Condition(
                                true,
                                CommandStatement {
                                    command: "test",
                                    args: [
                                        Value(
                                            "$with_serial",
                                        ),
                                        Value(
                                            "==",
                                        ),
                                        Value(
                                            "yes",
                                        ),
                                    ],
                                },
                            ),
                            consequence: [
                                Command(
                                    CommandStatement {
                                        command: "terminal_output",
                                        args: [
                                            Value(
                                                "gfxterm",
                                            ),
                                            Value(
                                                "serial",
                                            ),
                                        ],
                                    },
                                ),
                                Command(
                                    CommandStatement {
                                        command: "terminal_input",
                                        args: [
                                            Value(
                                                "console",
                                            ),
                                            Value(
                                                "serial",
                                            ),
                                        ],
                                    },
                                ),
                            ],
                            elifs: [],
                            alternative: [
                                Command(
                                    CommandStatement {
                                        command: "terminal_output",
                                        args: [
                                            Value(
                                                "gfxterm",
                                            ),
                                        ],
                                    },
                                ),
                                Command(
                                    CommandStatement {
                                        command: "terminal_input",
                                        args: [
                                            Value(
                                                "console",
                                            ),
                                        ],
                                    },
                                ),
                            ],
                        },
                    ),
                ],
                elifs: [],
                alternative: [
                    Command(
                        CommandStatement {
                            command: "set",
                            args: [
                                Value(
                                    "menu_color_normal=cyan/blue",
                                ),
                            ],
                        },
                    ),
                    Command(
                        CommandStatement {
                            command: "set",
                            args: [
                                Value(
                                    "menu_color_highlight=white/blue",
                                ),
                            ],
                        },
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "set",
                args: [
                    Value(
                        "theme=($root)/EFI/boot/grub-theme/theme.txt",
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "loadfont",
                args: [
                    Value(
                        "($root)/EFI/boot/grub-theme/dejavu.pf2",
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "hiddenentry",
                args: [
                    Literal(
                        "Text mode",
                    ),
                    Value(
                        "--hotkey",
                    ),
                    Literal(
                        "t",
                    ),
                    Block(
                        [
                            Command(
                                CommandStatement {
                                    command: "loadfont",
                                    args: [
                                        Value(
                                            "($root)/EFI/boot/unicode.pf2",
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "set",
                                    args: [
                                        Value(
                                            "textmode=true",
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "terminal_output",
                                    args: [
                                        Value(
                                            "gfxterm",
                                        ),
                                        Value(
                                            "console",
                                        ),
                                    ],
                                },
                            ),
                        ],
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "hiddenentry",
                args: [
                    Literal(
                        "GUI mode",
                    ),
                    Value(
                        "--hotkey",
                    ),
                    Literal(
                        "g",
                    ),
                    Block(
                        [
                            Command(
                                CommandStatement {
                                    command: "loadfont",
                                    args: [
                                        Value(
                                            "($root)/EFI/boot/grub-theme/dejavu.pf2",
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "set",
                                    args: [
                                        Value(
                                            "textmode=false",
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "terminal_output",
                                    args: [
                                        Value(
                                            "gfxterm",
                                        ),
                                    ],
                                },
                            ),
                        ],
                    ),
                ],
            },
        ),
        If(
            IfStatement {
                condition: Condition(
                    true,
                    CommandStatement {
                        command: "test",
                        args: [
                            Value(
                                "${iso_path}",
                            ),
                        ],
                    },
                ),
                consequence: [
                    Command(
                        CommandStatement {
                            command: "set",
                            args: [
                                Value(
                                    "isoboot=\"findiso=${iso_path}\"",
                                ),
                            ],
                        },
                    ),
                ],
                elifs: [],
                alternative: [],
            },
        ),
        Command(
            CommandStatement {
                command: "menuentry",
                args: [
                    Literal(
                        "NixOS 22.11.4369.99fe1b87052 Installer ",
                    ),
                    Value(
                        "--class",
                    ),
                    Value(
                        "installer",
                    ),
                    Block(
                        [
                            Command(
                                CommandStatement {
                                    command: "linux",
                                    args: [
                                        Value(
                                            "/boot/bzImage",
                                        ),
                                        Value(
                                            "${isoboot}",
                                        ),
                                        Value(
                                            "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                        ),
                                        Value(
                                            "root=LABEL=nixos-minimal-22.11-x86_64",
                                        ),
                                        Value(
                                            "boot.shell_on_fail",
                                        ),
                                        Value(
                                            "nohibernate",
                                        ),
                                        Value(
                                            "loglevel=4",
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "initrd",
                                    args: [
                                        Value(
                                            "/boot/initrd",
                                        ),
                                    ],
                                },
                            ),
                        ],
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "menuentry",
                args: [
                    Literal(
                        "NixOS 22.11.4369.99fe1b87052 Installer (nomodeset)",
                    ),
                    Value(
                        "--class",
                    ),
                    Value(
                        "nomodeset",
                    ),
                    Block(
                        [
                            Command(
                                CommandStatement {
                                    command: "linux",
                                    args: [
                                        Value(
                                            "/boot/bzImage",
                                        ),
                                        Value(
                                            "${isoboot}",
                                        ),
                                        Value(
                                            "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                        ),
                                        Value(
                                            "root=LABEL=nixos-minimal-22.11-x86_64",
                                        ),
                                        Value(
                                            "boot.shell_on_fail",
                                        ),
                                        Value(
                                            "nohibernate",
                                        ),
                                        Value(
                                            "loglevel=4",
                                        ),
                                        Value(
                                            "nomodeset",
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "initrd",
                                    args: [
                                        Value(
                                            "/boot/initrd",
                                        ),
                                    ],
                                },
                            ),
                        ],
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "menuentry",
                args: [
                    Literal(
                        "NixOS 22.11.4369.99fe1b87052 Installer (copytoram)",
                    ),
                    Value(
                        "--class",
                    ),
                    Value(
                        "copytoram",
                    ),
                    Block(
                        [
                            Command(
                                CommandStatement {
                                    command: "linux",
                                    args: [
                                        Value(
                                            "/boot/bzImage",
                                        ),
                                        Value(
                                            "${isoboot}",
                                        ),
                                        Value(
                                            "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                        ),
                                        Value(
                                            "root=LABEL=nixos-minimal-22.11-x86_64",
                                        ),
                                        Value(
                                            "boot.shell_on_fail",
                                        ),
                                        Value(
                                            "nohibernate",
                                        ),
                                        Value(
                                            "loglevel=4",
                                        ),
                                        Value(
                                            "copytoram",
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "initrd",
                                    args: [
                                        Value(
                                            "/boot/initrd",
                                        ),
                                    ],
                                },
                            ),
                        ],
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "menuentry",
                args: [
                    Literal(
                        "NixOS 22.11.4369.99fe1b87052 Installer (debug)",
                    ),
                    Value(
                        "--class",
                    ),
                    Value(
                        "debug",
                    ),
                    Block(
                        [
                            Command(
                                CommandStatement {
                                    command: "linux",
                                    args: [
                                        Value(
                                            "/boot/bzImage",
                                        ),
                                        Value(
                                            "${isoboot}",
                                        ),
                                        Value(
                                            "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                        ),
                                        Value(
                                            "root=LABEL=nixos-minimal-22.11-x86_64",
                                        ),
                                        Value(
                                            "boot.shell_on_fail",
                                        ),
                                        Value(
                                            "nohibernate",
                                        ),
                                        Value(
                                            "loglevel=4",
                                        ),
                                        Value(
                                            "debug",
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "initrd",
                                    args: [
                                        Value(
                                            "/boot/initrd",
                                        ),
                                    ],
                                },
                            ),
                        ],
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "submenu",
                args: [
                    Value(
                        "HiDPI, Quirks and Accessibility",
                    ),
                    Value(
                        "--class",
                    ),
                    Value(
                        "hidpi",
                    ),
                    Value(
                        "--class",
                    ),
                    Value(
                        "submenu",
                    ),
                    Block(
                        [
                            Command(
                                CommandStatement {
                                    command: "search",
                                    args: [
                                        Value(
                                            "--set=root",
                                        ),
                                        Value(
                                            "--file",
                                        ),
                                        Value(
                                            "/EFI/nixos-installer-image",
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "insmod",
                                    args: [
                                        Value(
                                            "gfxterm",
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "insmod",
                                    args: [
                                        Value(
                                            "png",
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "set",
                                    args: [
                                        Value(
                                            "gfxpayload=keep",
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "set",
                                    args: [
                                        Value(
                                            "gfxmode=1920x1080,1366x768,1280x720,1024x768,800x600,auto",
                                        ),
                                    ],
                                },
                            ),
                            If(
                                IfStatement {
                                    condition: Condition(
                                        true,
                                        CommandStatement {
                                            command: "loadfont",
                                            args: [
                                                Value(
                                                    "($root)/EFI/boot/unicode.pf2",
                                                ),
                                            ],
                                        },
                                    ),
                                    consequence: [
                                        Command(
                                            CommandStatement {
                                                command: "set",
                                                args: [
                                                    Value(
                                                        "with_fonts=true",
                                                    ),
                                                ],
                                            },
                                        ),
                                    ],
                                    elifs: [],
                                    alternative: [],
                                },
                            ),
                            If(
                                IfStatement {
                                    condition: Condition(
                                        true,
                                        CommandStatement {
                                            command: "test",
                                            args: [
                                                Value(
                                                    "$textmode",
                                                ),
                                                Value(
                                                    "!=",
                                                ),
                                                Value(
                                                    "true",
                                                ),
                                                Value(
                                                    "-a",
                                                ),
                                                Value(
                                                    "$with_fonts",
                                                ),
                                                Value(
                                                    "==",
                                                ),
                                                Value(
                                                    "true",
                                                ),
                                            ],
                                        },
                                    ),
                                    consequence: [
                                        If(
                                            IfStatement {
                                                condition: Condition(
                                                    true,
                                                    CommandStatement {
                                                        command: "test",
                                                        args: [
                                                            Value(
                                                                "$with_serial",
                                                            ),
                                                            Value(
                                                                "==",
                                                            ),
                                                            Value(
                                                                "yes",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                consequence: [
                                                    Command(
                                                        CommandStatement {
                                                            command: "terminal_output",
                                                            args: [
                                                                Value(
                                                                    "gfxterm",
                                                                ),
                                                                Value(
                                                                    "serial",
                                                                ),
                                                            ],
                                                        },
                                                    ),
                                                    Command(
                                                        CommandStatement {
                                                            command: "terminal_input",
                                                            args: [
                                                                Value(
                                                                    "console",
                                                                ),
                                                                Value(
                                                                    "serial",
                                                                ),
                                                            ],
                                                        },
                                                    ),
                                                ],
                                                elifs: [],
                                                alternative: [
                                                    Command(
                                                        CommandStatement {
                                                            command: "terminal_output",
                                                            args: [
                                                                Value(
                                                                    "gfxterm",
                                                                ),
                                                            ],
                                                        },
                                                    ),
                                                    Command(
                                                        CommandStatement {
                                                            command: "terminal_input",
                                                            args: [
                                                                Value(
                                                                    "console",
                                                                ),
                                                            ],
                                                        },
                                                    ),
                                                ],
                                            },
                                        ),
                                    ],
                                    elifs: [],
                                    alternative: [
                                        Command(
                                            CommandStatement {
                                                command: "set",
                                                args: [
                                                    Value(
                                                        "menu_color_normal=cyan/blue",
                                                    ),
                                                ],
                                            },
                                        ),
                                        Command(
                                            CommandStatement {
                                                command: "set",
                                                args: [
                                                    Value(
                                                        "menu_color_highlight=white/blue",
                                                    ),
                                                ],
                                            },
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "set",
                                    args: [
                                        Value(
                                            "theme=($root)/EFI/boot/grub-theme/theme.txt",
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "loadfont",
                                    args: [
                                        Value(
                                            "($root)/EFI/boot/grub-theme/dejavu.pf2",
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "submenu",
                                    args: [
                                        Value(
                                            "Suggests resolution @720p",
                                        ),
                                        Value(
                                            "--class",
                                        ),
                                        Value(
                                            "hidpi-720p",
                                        ),
                                        Block(
                                            [
                                                Command(
                                                    CommandStatement {
                                                        command: "search",
                                                        args: [
                                                            Value(
                                                                "--set=root",
                                                            ),
                                                            Value(
                                                                "--file",
                                                            ),
                                                            Value(
                                                                "/EFI/nixos-installer-image",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "insmod",
                                                        args: [
                                                            Value(
                                                                "gfxterm",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "insmod",
                                                        args: [
                                                            Value(
                                                                "png",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "gfxpayload=keep",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "gfxmode=1920x1080,1366x768,1280x720,1024x768,800x600,auto",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                If(
                                                    IfStatement {
                                                        condition: Condition(
                                                            true,
                                                            CommandStatement {
                                                                command: "loadfont",
                                                                args: [
                                                                    Value(
                                                                        "($root)/EFI/boot/unicode.pf2",
                                                                    ),
                                                                ],
                                                            },
                                                        ),
                                                        consequence: [
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "with_fonts=true",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        elifs: [],
                                                        alternative: [],
                                                    },
                                                ),
                                                If(
                                                    IfStatement {
                                                        condition: Condition(
                                                            true,
                                                            CommandStatement {
                                                                command: "test",
                                                                args: [
                                                                    Value(
                                                                        "$textmode",
                                                                    ),
                                                                    Value(
                                                                        "!=",
                                                                    ),
                                                                    Value(
                                                                        "true",
                                                                    ),
                                                                    Value(
                                                                        "-a",
                                                                    ),
                                                                    Value(
                                                                        "$with_fonts",
                                                                    ),
                                                                    Value(
                                                                        "==",
                                                                    ),
                                                                    Value(
                                                                        "true",
                                                                    ),
                                                                ],
                                                            },
                                                        ),
                                                        consequence: [
                                                            If(
                                                                IfStatement {
                                                                    condition: Condition(
                                                                        true,
                                                                        CommandStatement {
                                                                            command: "test",
                                                                            args: [
                                                                                Value(
                                                                                    "$with_serial",
                                                                                ),
                                                                                Value(
                                                                                    "==",
                                                                                ),
                                                                                Value(
                                                                                    "yes",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    consequence: [
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_output",
                                                                                args: [
                                                                                    Value(
                                                                                        "gfxterm",
                                                                                    ),
                                                                                    Value(
                                                                                        "serial",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_input",
                                                                                args: [
                                                                                    Value(
                                                                                        "console",
                                                                                    ),
                                                                                    Value(
                                                                                        "serial",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                    ],
                                                                    elifs: [],
                                                                    alternative: [
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_output",
                                                                                args: [
                                                                                    Value(
                                                                                        "gfxterm",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_input",
                                                                                args: [
                                                                                    Value(
                                                                                        "console",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        elifs: [],
                                                        alternative: [
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "menu_color_normal=cyan/blue",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "menu_color_highlight=white/blue",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "theme=($root)/EFI/boot/grub-theme/theme.txt",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "loadfont",
                                                        args: [
                                                            Value(
                                                                "($root)/EFI/boot/grub-theme/dejavu.pf2",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer ",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "installer",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "video=1280x720@60",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (nomodeset)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "nomodeset",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "video=1280x720@60",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "nomodeset",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (copytoram)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "copytoram",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "video=1280x720@60",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "copytoram",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (debug)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "debug",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "video=1280x720@60",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "debug",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                            ],
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "submenu",
                                    args: [
                                        Value(
                                            "Suggests resolution @1080p",
                                        ),
                                        Value(
                                            "--class",
                                        ),
                                        Value(
                                            "hidpi-1080p",
                                        ),
                                        Block(
                                            [
                                                Command(
                                                    CommandStatement {
                                                        command: "search",
                                                        args: [
                                                            Value(
                                                                "--set=root",
                                                            ),
                                                            Value(
                                                                "--file",
                                                            ),
                                                            Value(
                                                                "/EFI/nixos-installer-image",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "insmod",
                                                        args: [
                                                            Value(
                                                                "gfxterm",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "insmod",
                                                        args: [
                                                            Value(
                                                                "png",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "gfxpayload=keep",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "gfxmode=1920x1080,1366x768,1280x720,1024x768,800x600,auto",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                If(
                                                    IfStatement {
                                                        condition: Condition(
                                                            true,
                                                            CommandStatement {
                                                                command: "loadfont",
                                                                args: [
                                                                    Value(
                                                                        "($root)/EFI/boot/unicode.pf2",
                                                                    ),
                                                                ],
                                                            },
                                                        ),
                                                        consequence: [
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "with_fonts=true",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        elifs: [],
                                                        alternative: [],
                                                    },
                                                ),
                                                If(
                                                    IfStatement {
                                                        condition: Condition(
                                                            true,
                                                            CommandStatement {
                                                                command: "test",
                                                                args: [
                                                                    Value(
                                                                        "$textmode",
                                                                    ),
                                                                    Value(
                                                                        "!=",
                                                                    ),
                                                                    Value(
                                                                        "true",
                                                                    ),
                                                                    Value(
                                                                        "-a",
                                                                    ),
                                                                    Value(
                                                                        "$with_fonts",
                                                                    ),
                                                                    Value(
                                                                        "==",
                                                                    ),
                                                                    Value(
                                                                        "true",
                                                                    ),
                                                                ],
                                                            },
                                                        ),
                                                        consequence: [
                                                            If(
                                                                IfStatement {
                                                                    condition: Condition(
                                                                        true,
                                                                        CommandStatement {
                                                                            command: "test",
                                                                            args: [
                                                                                Value(
                                                                                    "$with_serial",
                                                                                ),
                                                                                Value(
                                                                                    "==",
                                                                                ),
                                                                                Value(
                                                                                    "yes",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    consequence: [
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_output",
                                                                                args: [
                                                                                    Value(
                                                                                        "gfxterm",
                                                                                    ),
                                                                                    Value(
                                                                                        "serial",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_input",
                                                                                args: [
                                                                                    Value(
                                                                                        "console",
                                                                                    ),
                                                                                    Value(
                                                                                        "serial",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                    ],
                                                                    elifs: [],
                                                                    alternative: [
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_output",
                                                                                args: [
                                                                                    Value(
                                                                                        "gfxterm",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_input",
                                                                                args: [
                                                                                    Value(
                                                                                        "console",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        elifs: [],
                                                        alternative: [
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "menu_color_normal=cyan/blue",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "menu_color_highlight=white/blue",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "theme=($root)/EFI/boot/grub-theme/theme.txt",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "loadfont",
                                                        args: [
                                                            Value(
                                                                "($root)/EFI/boot/grub-theme/dejavu.pf2",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer ",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "installer",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "video=1920x1080@60",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (nomodeset)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "nomodeset",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "video=1920x1080@60",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "nomodeset",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (copytoram)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "copytoram",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "video=1920x1080@60",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "copytoram",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (debug)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "debug",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "video=1920x1080@60",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "debug",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                            ],
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "submenu",
                                    args: [
                                        Value(
                                            "Disable display-manager",
                                        ),
                                        Value(
                                            "--class",
                                        ),
                                        Value(
                                            "quirk-disable-displaymanager",
                                        ),
                                        Block(
                                            [
                                                Command(
                                                    CommandStatement {
                                                        command: "search",
                                                        args: [
                                                            Value(
                                                                "--set=root",
                                                            ),
                                                            Value(
                                                                "--file",
                                                            ),
                                                            Value(
                                                                "/EFI/nixos-installer-image",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "insmod",
                                                        args: [
                                                            Value(
                                                                "gfxterm",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "insmod",
                                                        args: [
                                                            Value(
                                                                "png",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "gfxpayload=keep",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "gfxmode=1920x1080,1366x768,1280x720,1024x768,800x600,auto",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                If(
                                                    IfStatement {
                                                        condition: Condition(
                                                            true,
                                                            CommandStatement {
                                                                command: "loadfont",
                                                                args: [
                                                                    Value(
                                                                        "($root)/EFI/boot/unicode.pf2",
                                                                    ),
                                                                ],
                                                            },
                                                        ),
                                                        consequence: [
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "with_fonts=true",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        elifs: [],
                                                        alternative: [],
                                                    },
                                                ),
                                                If(
                                                    IfStatement {
                                                        condition: Condition(
                                                            true,
                                                            CommandStatement {
                                                                command: "test",
                                                                args: [
                                                                    Value(
                                                                        "$textmode",
                                                                    ),
                                                                    Value(
                                                                        "!=",
                                                                    ),
                                                                    Value(
                                                                        "true",
                                                                    ),
                                                                    Value(
                                                                        "-a",
                                                                    ),
                                                                    Value(
                                                                        "$with_fonts",
                                                                    ),
                                                                    Value(
                                                                        "==",
                                                                    ),
                                                                    Value(
                                                                        "true",
                                                                    ),
                                                                ],
                                                            },
                                                        ),
                                                        consequence: [
                                                            If(
                                                                IfStatement {
                                                                    condition: Condition(
                                                                        true,
                                                                        CommandStatement {
                                                                            command: "test",
                                                                            args: [
                                                                                Value(
                                                                                    "$with_serial",
                                                                                ),
                                                                                Value(
                                                                                    "==",
                                                                                ),
                                                                                Value(
                                                                                    "yes",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    consequence: [
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_output",
                                                                                args: [
                                                                                    Value(
                                                                                        "gfxterm",
                                                                                    ),
                                                                                    Value(
                                                                                        "serial",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_input",
                                                                                args: [
                                                                                    Value(
                                                                                        "console",
                                                                                    ),
                                                                                    Value(
                                                                                        "serial",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                    ],
                                                                    elifs: [],
                                                                    alternative: [
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_output",
                                                                                args: [
                                                                                    Value(
                                                                                        "gfxterm",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_input",
                                                                                args: [
                                                                                    Value(
                                                                                        "console",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        elifs: [],
                                                        alternative: [
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "menu_color_normal=cyan/blue",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "menu_color_highlight=white/blue",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "theme=($root)/EFI/boot/grub-theme/theme.txt",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "loadfont",
                                                        args: [
                                                            Value(
                                                                "($root)/EFI/boot/grub-theme/dejavu.pf2",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer ",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "installer",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "systemd.mask=display-manager.service",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (nomodeset)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "nomodeset",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "systemd.mask=display-manager.service",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "nomodeset",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (copytoram)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "copytoram",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "systemd.mask=display-manager.service",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "copytoram",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (debug)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "debug",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "systemd.mask=display-manager.service",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "debug",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                            ],
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "submenu",
                                    args: [
                                        Value(
                                            "",
                                        ),
                                        Block(
                                            [
                                                Command(
                                                    CommandStatement {
                                                        command: "return",
                                                        args: [],
                                                    },
                                                ),
                                            ],
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "submenu",
                                    args: [
                                        Value(
                                            "Rotate framebuffer Clockwise",
                                        ),
                                        Value(
                                            "--class",
                                        ),
                                        Value(
                                            "rotate-90cw",
                                        ),
                                        Block(
                                            [
                                                Command(
                                                    CommandStatement {
                                                        command: "search",
                                                        args: [
                                                            Value(
                                                                "--set=root",
                                                            ),
                                                            Value(
                                                                "--file",
                                                            ),
                                                            Value(
                                                                "/EFI/nixos-installer-image",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "insmod",
                                                        args: [
                                                            Value(
                                                                "gfxterm",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "insmod",
                                                        args: [
                                                            Value(
                                                                "png",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "gfxpayload=keep",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "gfxmode=1920x1080,1366x768,1280x720,1024x768,800x600,auto",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                If(
                                                    IfStatement {
                                                        condition: Condition(
                                                            true,
                                                            CommandStatement {
                                                                command: "loadfont",
                                                                args: [
                                                                    Value(
                                                                        "($root)/EFI/boot/unicode.pf2",
                                                                    ),
                                                                ],
                                                            },
                                                        ),
                                                        consequence: [
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "with_fonts=true",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        elifs: [],
                                                        alternative: [],
                                                    },
                                                ),
                                                If(
                                                    IfStatement {
                                                        condition: Condition(
                                                            true,
                                                            CommandStatement {
                                                                command: "test",
                                                                args: [
                                                                    Value(
                                                                        "$textmode",
                                                                    ),
                                                                    Value(
                                                                        "!=",
                                                                    ),
                                                                    Value(
                                                                        "true",
                                                                    ),
                                                                    Value(
                                                                        "-a",
                                                                    ),
                                                                    Value(
                                                                        "$with_fonts",
                                                                    ),
                                                                    Value(
                                                                        "==",
                                                                    ),
                                                                    Value(
                                                                        "true",
                                                                    ),
                                                                ],
                                                            },
                                                        ),
                                                        consequence: [
                                                            If(
                                                                IfStatement {
                                                                    condition: Condition(
                                                                        true,
                                                                        CommandStatement {
                                                                            command: "test",
                                                                            args: [
                                                                                Value(
                                                                                    "$with_serial",
                                                                                ),
                                                                                Value(
                                                                                    "==",
                                                                                ),
                                                                                Value(
                                                                                    "yes",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    consequence: [
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_output",
                                                                                args: [
                                                                                    Value(
                                                                                        "gfxterm",
                                                                                    ),
                                                                                    Value(
                                                                                        "serial",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_input",
                                                                                args: [
                                                                                    Value(
                                                                                        "console",
                                                                                    ),
                                                                                    Value(
                                                                                        "serial",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                    ],
                                                                    elifs: [],
                                                                    alternative: [
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_output",
                                                                                args: [
                                                                                    Value(
                                                                                        "gfxterm",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_input",
                                                                                args: [
                                                                                    Value(
                                                                                        "console",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        elifs: [],
                                                        alternative: [
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "menu_color_normal=cyan/blue",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "menu_color_highlight=white/blue",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "theme=($root)/EFI/boot/grub-theme/theme.txt",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "loadfont",
                                                        args: [
                                                            Value(
                                                                "($root)/EFI/boot/grub-theme/dejavu.pf2",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer ",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "installer",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "fbcon=rotate:1",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (nomodeset)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "nomodeset",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "fbcon=rotate:1",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "nomodeset",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (copytoram)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "copytoram",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "fbcon=rotate:1",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "copytoram",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (debug)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "debug",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "fbcon=rotate:1",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "debug",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                            ],
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "submenu",
                                    args: [
                                        Value(
                                            "Rotate framebuffer Upside-Down",
                                        ),
                                        Value(
                                            "--class",
                                        ),
                                        Value(
                                            "rotate-180",
                                        ),
                                        Block(
                                            [
                                                Command(
                                                    CommandStatement {
                                                        command: "search",
                                                        args: [
                                                            Value(
                                                                "--set=root",
                                                            ),
                                                            Value(
                                                                "--file",
                                                            ),
                                                            Value(
                                                                "/EFI/nixos-installer-image",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "insmod",
                                                        args: [
                                                            Value(
                                                                "gfxterm",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "insmod",
                                                        args: [
                                                            Value(
                                                                "png",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "gfxpayload=keep",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "gfxmode=1920x1080,1366x768,1280x720,1024x768,800x600,auto",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                If(
                                                    IfStatement {
                                                        condition: Condition(
                                                            true,
                                                            CommandStatement {
                                                                command: "loadfont",
                                                                args: [
                                                                    Value(
                                                                        "($root)/EFI/boot/unicode.pf2",
                                                                    ),
                                                                ],
                                                            },
                                                        ),
                                                        consequence: [
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "with_fonts=true",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        elifs: [],
                                                        alternative: [],
                                                    },
                                                ),
                                                If(
                                                    IfStatement {
                                                        condition: Condition(
                                                            true,
                                                            CommandStatement {
                                                                command: "test",
                                                                args: [
                                                                    Value(
                                                                        "$textmode",
                                                                    ),
                                                                    Value(
                                                                        "!=",
                                                                    ),
                                                                    Value(
                                                                        "true",
                                                                    ),
                                                                    Value(
                                                                        "-a",
                                                                    ),
                                                                    Value(
                                                                        "$with_fonts",
                                                                    ),
                                                                    Value(
                                                                        "==",
                                                                    ),
                                                                    Value(
                                                                        "true",
                                                                    ),
                                                                ],
                                                            },
                                                        ),
                                                        consequence: [
                                                            If(
                                                                IfStatement {
                                                                    condition: Condition(
                                                                        true,
                                                                        CommandStatement {
                                                                            command: "test",
                                                                            args: [
                                                                                Value(
                                                                                    "$with_serial",
                                                                                ),
                                                                                Value(
                                                                                    "==",
                                                                                ),
                                                                                Value(
                                                                                    "yes",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    consequence: [
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_output",
                                                                                args: [
                                                                                    Value(
                                                                                        "gfxterm",
                                                                                    ),
                                                                                    Value(
                                                                                        "serial",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_input",
                                                                                args: [
                                                                                    Value(
                                                                                        "console",
                                                                                    ),
                                                                                    Value(
                                                                                        "serial",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                    ],
                                                                    elifs: [],
                                                                    alternative: [
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_output",
                                                                                args: [
                                                                                    Value(
                                                                                        "gfxterm",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_input",
                                                                                args: [
                                                                                    Value(
                                                                                        "console",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        elifs: [],
                                                        alternative: [
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "menu_color_normal=cyan/blue",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "menu_color_highlight=white/blue",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "theme=($root)/EFI/boot/grub-theme/theme.txt",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "loadfont",
                                                        args: [
                                                            Value(
                                                                "($root)/EFI/boot/grub-theme/dejavu.pf2",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer ",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "installer",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "fbcon=rotate:2",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (nomodeset)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "nomodeset",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "fbcon=rotate:2",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "nomodeset",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (copytoram)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "copytoram",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "fbcon=rotate:2",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "copytoram",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (debug)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "debug",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "fbcon=rotate:2",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "debug",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                            ],
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "submenu",
                                    args: [
                                        Value(
                                            "Rotate framebuffer Counter-Clockwise",
                                        ),
                                        Value(
                                            "--class",
                                        ),
                                        Value(
                                            "rotate-90ccw",
                                        ),
                                        Block(
                                            [
                                                Command(
                                                    CommandStatement {
                                                        command: "search",
                                                        args: [
                                                            Value(
                                                                "--set=root",
                                                            ),
                                                            Value(
                                                                "--file",
                                                            ),
                                                            Value(
                                                                "/EFI/nixos-installer-image",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "insmod",
                                                        args: [
                                                            Value(
                                                                "gfxterm",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "insmod",
                                                        args: [
                                                            Value(
                                                                "png",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "gfxpayload=keep",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "gfxmode=1920x1080,1366x768,1280x720,1024x768,800x600,auto",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                If(
                                                    IfStatement {
                                                        condition: Condition(
                                                            true,
                                                            CommandStatement {
                                                                command: "loadfont",
                                                                args: [
                                                                    Value(
                                                                        "($root)/EFI/boot/unicode.pf2",
                                                                    ),
                                                                ],
                                                            },
                                                        ),
                                                        consequence: [
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "with_fonts=true",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        elifs: [],
                                                        alternative: [],
                                                    },
                                                ),
                                                If(
                                                    IfStatement {
                                                        condition: Condition(
                                                            true,
                                                            CommandStatement {
                                                                command: "test",
                                                                args: [
                                                                    Value(
                                                                        "$textmode",
                                                                    ),
                                                                    Value(
                                                                        "!=",
                                                                    ),
                                                                    Value(
                                                                        "true",
                                                                    ),
                                                                    Value(
                                                                        "-a",
                                                                    ),
                                                                    Value(
                                                                        "$with_fonts",
                                                                    ),
                                                                    Value(
                                                                        "==",
                                                                    ),
                                                                    Value(
                                                                        "true",
                                                                    ),
                                                                ],
                                                            },
                                                        ),
                                                        consequence: [
                                                            If(
                                                                IfStatement {
                                                                    condition: Condition(
                                                                        true,
                                                                        CommandStatement {
                                                                            command: "test",
                                                                            args: [
                                                                                Value(
                                                                                    "$with_serial",
                                                                                ),
                                                                                Value(
                                                                                    "==",
                                                                                ),
                                                                                Value(
                                                                                    "yes",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    consequence: [
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_output",
                                                                                args: [
                                                                                    Value(
                                                                                        "gfxterm",
                                                                                    ),
                                                                                    Value(
                                                                                        "serial",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_input",
                                                                                args: [
                                                                                    Value(
                                                                                        "console",
                                                                                    ),
                                                                                    Value(
                                                                                        "serial",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                    ],
                                                                    elifs: [],
                                                                    alternative: [
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_output",
                                                                                args: [
                                                                                    Value(
                                                                                        "gfxterm",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_input",
                                                                                args: [
                                                                                    Value(
                                                                                        "console",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        elifs: [],
                                                        alternative: [
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "menu_color_normal=cyan/blue",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "menu_color_highlight=white/blue",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "theme=($root)/EFI/boot/grub-theme/theme.txt",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "loadfont",
                                                        args: [
                                                            Value(
                                                                "($root)/EFI/boot/grub-theme/dejavu.pf2",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer ",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "installer",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "fbcon=rotate:3",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (nomodeset)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "nomodeset",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "fbcon=rotate:3",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "nomodeset",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (copytoram)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "copytoram",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "fbcon=rotate:3",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "copytoram",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (debug)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "debug",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "fbcon=rotate:3",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "debug",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                            ],
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "submenu",
                                    args: [
                                        Value(
                                            "",
                                        ),
                                        Block(
                                            [
                                                Command(
                                                    CommandStatement {
                                                        command: "return",
                                                        args: [],
                                                    },
                                                ),
                                            ],
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "submenu",
                                    args: [
                                        Value(
                                            "Use black on white",
                                        ),
                                        Value(
                                            "--class",
                                        ),
                                        Value(
                                            "accessibility-blakconwhite",
                                        ),
                                        Block(
                                            [
                                                Command(
                                                    CommandStatement {
                                                        command: "search",
                                                        args: [
                                                            Value(
                                                                "--set=root",
                                                            ),
                                                            Value(
                                                                "--file",
                                                            ),
                                                            Value(
                                                                "/EFI/nixos-installer-image",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "insmod",
                                                        args: [
                                                            Value(
                                                                "gfxterm",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "insmod",
                                                        args: [
                                                            Value(
                                                                "png",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "gfxpayload=keep",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "gfxmode=1920x1080,1366x768,1280x720,1024x768,800x600,auto",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                If(
                                                    IfStatement {
                                                        condition: Condition(
                                                            true,
                                                            CommandStatement {
                                                                command: "loadfont",
                                                                args: [
                                                                    Value(
                                                                        "($root)/EFI/boot/unicode.pf2",
                                                                    ),
                                                                ],
                                                            },
                                                        ),
                                                        consequence: [
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "with_fonts=true",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        elifs: [],
                                                        alternative: [],
                                                    },
                                                ),
                                                If(
                                                    IfStatement {
                                                        condition: Condition(
                                                            true,
                                                            CommandStatement {
                                                                command: "test",
                                                                args: [
                                                                    Value(
                                                                        "$textmode",
                                                                    ),
                                                                    Value(
                                                                        "!=",
                                                                    ),
                                                                    Value(
                                                                        "true",
                                                                    ),
                                                                    Value(
                                                                        "-a",
                                                                    ),
                                                                    Value(
                                                                        "$with_fonts",
                                                                    ),
                                                                    Value(
                                                                        "==",
                                                                    ),
                                                                    Value(
                                                                        "true",
                                                                    ),
                                                                ],
                                                            },
                                                        ),
                                                        consequence: [
                                                            If(
                                                                IfStatement {
                                                                    condition: Condition(
                                                                        true,
                                                                        CommandStatement {
                                                                            command: "test",
                                                                            args: [
                                                                                Value(
                                                                                    "$with_serial",
                                                                                ),
                                                                                Value(
                                                                                    "==",
                                                                                ),
                                                                                Value(
                                                                                    "yes",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    consequence: [
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_output",
                                                                                args: [
                                                                                    Value(
                                                                                        "gfxterm",
                                                                                    ),
                                                                                    Value(
                                                                                        "serial",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_input",
                                                                                args: [
                                                                                    Value(
                                                                                        "console",
                                                                                    ),
                                                                                    Value(
                                                                                        "serial",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                    ],
                                                                    elifs: [],
                                                                    alternative: [
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_output",
                                                                                args: [
                                                                                    Value(
                                                                                        "gfxterm",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_input",
                                                                                args: [
                                                                                    Value(
                                                                                        "console",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        elifs: [],
                                                        alternative: [
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "menu_color_normal=cyan/blue",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "menu_color_highlight=white/blue",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "theme=($root)/EFI/boot/grub-theme/theme.txt",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "loadfont",
                                                        args: [
                                                            Value(
                                                                "($root)/EFI/boot/grub-theme/dejavu.pf2",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer ",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "installer",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "vt.default_red=0xFF,0xBC,0x4F,0xB4,0x56,0xBC,0x4F,0x00,0xA1,0xCF,0x84,0xCA,0x8D,0xB4,0x84,0x68",
                                                                                ),
                                                                                Value(
                                                                                    "vt.default_grn=0xFF,0x55,0xBA,0xBA,0x4D,0x4D,0xB3,0x00,0xA0,0x8F,0xB3,0xCA,0x88,0x93,0xA4,0x68",
                                                                                ),
                                                                                Value(
                                                                                    "vt.default_blu=0xFF,0x58,0x5F,0x58,0xC5,0xBD,0xC5,0x00,0xA8,0xBB,0xAB,0x97,0xBD,0xC7,0xC5,0x68",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (nomodeset)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "nomodeset",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "vt.default_red=0xFF,0xBC,0x4F,0xB4,0x56,0xBC,0x4F,0x00,0xA1,0xCF,0x84,0xCA,0x8D,0xB4,0x84,0x68",
                                                                                ),
                                                                                Value(
                                                                                    "vt.default_grn=0xFF,0x55,0xBA,0xBA,0x4D,0x4D,0xB3,0x00,0xA0,0x8F,0xB3,0xCA,0x88,0x93,0xA4,0x68",
                                                                                ),
                                                                                Value(
                                                                                    "vt.default_blu=0xFF,0x58,0x5F,0x58,0xC5,0xBD,0xC5,0x00,0xA8,0xBB,0xAB,0x97,0xBD,0xC7,0xC5,0x68",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "nomodeset",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (copytoram)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "copytoram",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "vt.default_red=0xFF,0xBC,0x4F,0xB4,0x56,0xBC,0x4F,0x00,0xA1,0xCF,0x84,0xCA,0x8D,0xB4,0x84,0x68",
                                                                                ),
                                                                                Value(
                                                                                    "vt.default_grn=0xFF,0x55,0xBA,0xBA,0x4D,0x4D,0xB3,0x00,0xA0,0x8F,0xB3,0xCA,0x88,0x93,0xA4,0x68",
                                                                                ),
                                                                                Value(
                                                                                    "vt.default_blu=0xFF,0x58,0x5F,0x58,0xC5,0xBD,0xC5,0x00,0xA8,0xBB,0xAB,0x97,0xBD,0xC7,0xC5,0x68",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "copytoram",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (debug)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "debug",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "vt.default_red=0xFF,0xBC,0x4F,0xB4,0x56,0xBC,0x4F,0x00,0xA1,0xCF,0x84,0xCA,0x8D,0xB4,0x84,0x68",
                                                                                ),
                                                                                Value(
                                                                                    "vt.default_grn=0xFF,0x55,0xBA,0xBA,0x4D,0x4D,0xB3,0x00,0xA0,0x8F,0xB3,0xCA,0x88,0x93,0xA4,0x68",
                                                                                ),
                                                                                Value(
                                                                                    "vt.default_blu=0xFF,0x58,0x5F,0x58,0xC5,0xBD,0xC5,0x00,0xA8,0xBB,0xAB,0x97,0xBD,0xC7,0xC5,0x68",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "debug",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                            ],
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "submenu",
                                    args: [
                                        Value(
                                            "",
                                        ),
                                        Block(
                                            [
                                                Command(
                                                    CommandStatement {
                                                        command: "return",
                                                        args: [],
                                                    },
                                                ),
                                            ],
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "submenu",
                                    args: [
                                        Value(
                                            "Serial console=ttyS0,115200n8",
                                        ),
                                        Value(
                                            "--class",
                                        ),
                                        Value(
                                            "serial",
                                        ),
                                        Block(
                                            [
                                                Command(
                                                    CommandStatement {
                                                        command: "search",
                                                        args: [
                                                            Value(
                                                                "--set=root",
                                                            ),
                                                            Value(
                                                                "--file",
                                                            ),
                                                            Value(
                                                                "/EFI/nixos-installer-image",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "insmod",
                                                        args: [
                                                            Value(
                                                                "gfxterm",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "insmod",
                                                        args: [
                                                            Value(
                                                                "png",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "gfxpayload=keep",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "gfxmode=1920x1080,1366x768,1280x720,1024x768,800x600,auto",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                If(
                                                    IfStatement {
                                                        condition: Condition(
                                                            true,
                                                            CommandStatement {
                                                                command: "loadfont",
                                                                args: [
                                                                    Value(
                                                                        "($root)/EFI/boot/unicode.pf2",
                                                                    ),
                                                                ],
                                                            },
                                                        ),
                                                        consequence: [
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "with_fonts=true",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        elifs: [],
                                                        alternative: [],
                                                    },
                                                ),
                                                If(
                                                    IfStatement {
                                                        condition: Condition(
                                                            true,
                                                            CommandStatement {
                                                                command: "test",
                                                                args: [
                                                                    Value(
                                                                        "$textmode",
                                                                    ),
                                                                    Value(
                                                                        "!=",
                                                                    ),
                                                                    Value(
                                                                        "true",
                                                                    ),
                                                                    Value(
                                                                        "-a",
                                                                    ),
                                                                    Value(
                                                                        "$with_fonts",
                                                                    ),
                                                                    Value(
                                                                        "==",
                                                                    ),
                                                                    Value(
                                                                        "true",
                                                                    ),
                                                                ],
                                                            },
                                                        ),
                                                        consequence: [
                                                            If(
                                                                IfStatement {
                                                                    condition: Condition(
                                                                        true,
                                                                        CommandStatement {
                                                                            command: "test",
                                                                            args: [
                                                                                Value(
                                                                                    "$with_serial",
                                                                                ),
                                                                                Value(
                                                                                    "==",
                                                                                ),
                                                                                Value(
                                                                                    "yes",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    consequence: [
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_output",
                                                                                args: [
                                                                                    Value(
                                                                                        "gfxterm",
                                                                                    ),
                                                                                    Value(
                                                                                        "serial",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_input",
                                                                                args: [
                                                                                    Value(
                                                                                        "console",
                                                                                    ),
                                                                                    Value(
                                                                                        "serial",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                    ],
                                                                    elifs: [],
                                                                    alternative: [
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_output",
                                                                                args: [
                                                                                    Value(
                                                                                        "gfxterm",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                        Command(
                                                                            CommandStatement {
                                                                                command: "terminal_input",
                                                                                args: [
                                                                                    Value(
                                                                                        "console",
                                                                                    ),
                                                                                ],
                                                                            },
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                        elifs: [],
                                                        alternative: [
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "menu_color_normal=cyan/blue",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                            Command(
                                                                CommandStatement {
                                                                    command: "set",
                                                                    args: [
                                                                        Value(
                                                                            "menu_color_highlight=white/blue",
                                                                        ),
                                                                    ],
                                                                },
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "set",
                                                        args: [
                                                            Value(
                                                                "theme=($root)/EFI/boot/grub-theme/theme.txt",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "loadfont",
                                                        args: [
                                                            Value(
                                                                "($root)/EFI/boot/grub-theme/dejavu.pf2",
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer ",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "installer",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "console=ttyS0,115200n8",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (nomodeset)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "nomodeset",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "console=ttyS0,115200n8",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "nomodeset",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (copytoram)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "copytoram",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "console=ttyS0,115200n8",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "copytoram",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                                Command(
                                                    CommandStatement {
                                                        command: "menuentry",
                                                        args: [
                                                            Literal(
                                                                "NixOS 22.11.4369.99fe1b87052 Installer (debug)",
                                                            ),
                                                            Value(
                                                                "--class",
                                                            ),
                                                            Value(
                                                                "debug",
                                                            ),
                                                            Block(
                                                                [
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "linux",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/bzImage",
                                                                                ),
                                                                                Value(
                                                                                    "${isoboot}",
                                                                                ),
                                                                                Value(
                                                                                    "init=/nix/store/2ghlsb5h1d9p13j255hlbz4amp8p4k84-nixos-system-nixos-22.11.4369.99fe1b87052/init",
                                                                                ),
                                                                                Value(
                                                                                    "console=ttyS0,115200n8",
                                                                                ),
                                                                                Value(
                                                                                    "root=LABEL=nixos-minimal-22.11-x86_64",
                                                                                ),
                                                                                Value(
                                                                                    "boot.shell_on_fail",
                                                                                ),
                                                                                Value(
                                                                                    "nohibernate",
                                                                                ),
                                                                                Value(
                                                                                    "loglevel=4",
                                                                                ),
                                                                                Value(
                                                                                    "debug",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                    Command(
                                                                        CommandStatement {
                                                                            command: "initrd",
                                                                            args: [
                                                                                Value(
                                                                                    "/boot/initrd",
                                                                                ),
                                                                            ],
                                                                        },
                                                                    ),
                                                                ],
                                                            ),
                                                        ],
                                                    },
                                                ),
                                            ],
                                        ),
                                    ],
                                },
                            ),
                        ],
                    ),
                ],
            },
        ),
        If(
            IfStatement {
                condition: Condition(
                    true,
                    CommandStatement {
                        command: "test",
                        args: [
                            Value(
                                "$root",
                            ),
                            Value(
                                "!=",
                            ),
                            Value(
                                "cd0",
                            ),
                        ],
                    },
                ),
                consequence: [
                    Command(
                        CommandStatement {
                            command: "menuentry",
                            args: [
                                Literal(
                                    "rEFInd",
                                ),
                                Value(
                                    "--class",
                                ),
                                Value(
                                    "refind",
                                ),
                                Block(
                                    [
                                        Command(
                                            CommandStatement {
                                                command: "search",
                                                args: [
                                                    Value(
                                                        "--set=root",
                                                    ),
                                                    Value(
                                                        "--no-floppy",
                                                    ),
                                                    Value(
                                                        "--fs-uuid",
                                                    ),
                                                    Value(
                                                        "1234-5678",
                                                    ),
                                                ],
                                            },
                                        ),
                                        Command(
                                            CommandStatement {
                                                command: "chainloader",
                                                args: [
                                                    Value(
                                                        "($root)/EFI/boot/refind_x64.efi",
                                                    ),
                                                ],
                                            },
                                        ),
                                    ],
                                ),
                            ],
                        },
                    ),
                ],
                elifs: [],
                alternative: [],
            },
        ),
        Command(
            CommandStatement {
                command: "menuentry",
                args: [
                    Literal(
                        "Firmware Setup",
                    ),
                    Value(
                        "--class",
                    ),
                    Value(
                        "settings",
                    ),
                    Block(
                        [
                            Command(
                                CommandStatement {
                                    command: "fwsetup",
                                    args: [],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "clear",
                                    args: [],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "echo",
                                    args: [
                                        Value(
                                            "",
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "echo",
                                    args: [
                                        Value(
                                            "If you see this message, your EFI system doesn't support this feature.",
                                        ),
                                    ],
                                },
                            ),
                            Command(
                                CommandStatement {
                                    command: "echo",
                                    args: [
                                        Value(
                                            "",
                                        ),
                                    ],
                                },
                            ),
                        ],
                    ),
                ],
            },
        ),
        Command(
            CommandStatement {
                command: "menuentry",
                args: [
                    Literal(
                        "Shutdown",
                    ),
                    Value(
                        "--class",
                    ),
                    Value(
                        "shutdown",
                    ),
                    Block(
                        [
                            Command(
                                CommandStatement {
                                    command: "halt",
                                    args: [],
                                },
                            ),
                        ],
                    ),
                ],
            },
        ),
    ],
}
